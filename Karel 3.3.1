void findShelters()
{
    repeat(100)
    {
        if(frontIsClear() && !beeperAhead())
        {
            moveForward();
            // if not in shelter
            if(leftIsClear() || frontIsClear() || rightIsClear())
            {
                dropBeeper();
            }
            else
            {
                IfInShelter();
            }
        }
        else if(leftIsClear() && !rightIsClear())
        {
            turnLeft();
            moveForward();
            if(!onBeeper()){ dropBeeper(); }
        }
        else if(!leftIsClear() && rightIsClear())
        {
            turnRight();
            moveForward();
            if(!onBeeper() && (leftIsClear() || frontIsClear() || rightIsClear())){ dropBeeper(); }
        }
        else if(leftIsClear())
        {
            turnLeft();
            
            if(!beeperAhead())
            {
                moveForward();
                
                if(rightIsClear())
                {
                    turnRight();
                    
                    if(!beeperAhead())
                    {
                        moveForward();
                    }
                }
            }
        }
        else if(rightIsClear())
        {
            turnRight();
            
            if(!beeperAhead())
            {
                moveForward();
            }
        }
        else
        {
            IfInShelter();
        }
    }
}

void IfInShelter()
{
    turnAround();
    moveForward();
    
    if(frontIsClear() && !beeperAhead())
    {
        moveForward();
        dropBeeper();
    }
    else if(leftIsClear() && !rightIsClear())
    {
        turnLeft();
        moveForward();
        if(!onBeeper()){ dropBeeper(); }
    }
    else if(!leftIsClear() && rightIsClear())
    {
        turnRight();
        moveForward();
        if(!onBeeper()){ dropBeeper(); }
    }
    else if(leftIsClear())
    {
        turnLeft();
        
        if(!beeperAhead())
        {
            moveForward();
            
            if(rightIsClear())
            {
                turnRight();
                
                if(!beeperAhead())
                {
                    moveForward();
                }
            }
        }
    }
    else if(rightIsClear())
    {
        turnRight();
        
        if(!beeperAhead())
        {
            moveForward();
        }
    }
    else
    {
        moveForward();
    }
}
